document.addEventListener("DOMContentLoaded",function(){console.log("JavaScript de Usuarios cargado");const o=document.getElementById("search"),r=document.getElementById("usuarios-table-body"),l="/usuarios";if(o){let d=null;o.addEventListener("input",function(){clearTimeout(d),d=setTimeout(()=>{const i=o.value.trim();fetch(`${l}?search=`+encodeURIComponent(i),{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{if(r.innerHTML="",e.length===0){r.innerHTML='<tr><td colspan="3" style="text-align:center;">No se encontraron usuarios</td></tr>';return}e.forEach(t=>{const n=document.createElement("tr"),c=document.createElement("td");c.textContent=t.id,n.appendChild(c);const s=document.createElement("td");s.textContent=t.name,n.appendChild(s);const a=document.createElement("td");a.textContent=t.role?t.role:"Usuario",n.appendChild(a),r.appendChild(n)})}).catch(e=>{console.error("Error fetching users: ",e)})},300)})}});
